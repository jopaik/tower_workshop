---
- name: Get command_timeout
  hosts: all
  gather_facts: no

  tasks:
    - name: Get command_timeout
      debug:
        msg: "This is command timeout value {{ ansible_command_timeout | default(30) }}"


    - name: Get Custom host timeout
      debug:
        msg: "This is custom host timeout value {{ custom_host_timeout | default(30) }}"
    
    - name: Use Custom timeout
      ansible.builtin.command:
        cmd: "echo This is Custom Host Timeout var {{ custom_host_timeout | default(30) }}"
      timeout: "{{ custom_host_timeout | default(30) | int }}"